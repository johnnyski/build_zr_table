<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
   <meta name="GENERATOR" content="Mozilla/4.5 [en] (X11; U; Linux 2.0.32 i686) [Netscape]">
</head>
<body text="#000000" bgcolor="#C0C0C0" link="#0000EE" vlink="#551A8B" alink="#FF0000">
&nbsp;
<center><table BORDER=5 CELLSPACING=5 CELLPADDING=5 WIDTH="100%" >
<tr>
<td><img SRC="zr_logo.gif" height=100 width=256></td>

<td><b><font color="#000080"><font size=+2>automatic_qc.pl:&nbsp;</font></font></b>
<br><b><font color="#800080"><font size=+1>Gauge filtering via Eyal's statistical
algorithm.</font></font></b></td>
</tr>
</table></center>
<b>Updated</b>: April 29, 1999.
<p>
<hr WIDTH="100%">
<h3>
<font color="#000080">Synopsis</font></h3>

<pre><b><font color="#B22222">&nbsp;&nbsp;&nbsp; automatic_qc.pl [--help]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [--report gauges_removed.out]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [--positive-only]
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [[&lt;]2-nd_intermediate.ascii]</font></b>






<hr WIDTH="100%"></pre>

<h3>
<b><font color="#000080">Description</font></b></h3>
<font color="#000000">This is the first of three steps required to perform
the gauge quality control.&nbsp; <b>automatic_qc.pl </b>generates a filter
file.&nbsp;&nbsp; This filter file specifies which gauges from which networks
and for what time ranges are to be removed from the merged radar and gauge
file.&nbsp; The merged radar and gauge file, usually called the second
intermediate file, is generated by the program <a href="merge_radarNgauge_data.html">merge_radarNgauge_data</a>.</font>
<p><font color="#000000">The input, which may be stdin, is the second intermediate
file.&nbsp; It need not be sorted in any way, as this program sorts it
using <a href="sort_zr_intermediate_ascii.html">sort_zr_intermediate_ascii</a>.</font>
<p><font color="#000000">The output is a crontab-like format that specifies
the time range, the gauge and the gauge network.&nbsp; This filter file,
as well as the second intermediate file,&nbsp; is inputted to <a href="gauge_filter.html">gauge_filter.pl</a>,
the second of the three QC steps, to yield a new second intermediate file
(third intermediate).&nbsp; It is hoped, by now, that this third intermediate
file is the final merged radar and gauge dataset to be used to construct
the R/G.</font>
<p><font color="#000000">To construct R/G, the ratio of the total rain
from the radar (R) to the total rain from the gauge (G), merely run <a href="gauge_gui.html">gauge_gui_main.pl</a>,
the third QC step, and select the entire network and observe (in the title)
the R/G value.&nbsp; This value is the bulk adjustment that should be applied
to the FACE equation (300R<sup>1.4</sup>).&nbsp; The bulk adjustment is
applied to the coefficient (300).</font>
<p>
<hr WIDTH="100%">
<h3>
<font color="#000099">Details</font></h3>
<font color="#000000">There are three basic steps to automatic_qc.pl:</font>
<ol>
<li>
<font color="#000000"><a href="sort_zr_intermediate_ascii.html">sort_zr_intermediate_ascii</a>
- This sorts the second intermediate file by gauge and time.&nbsp; The
output of this program is fed in to eyalqc.</font></li>

<li>
<font color="#000000">eyalqc - The heart of the QC.&nbsp; Based on statistical
criteria, gauges are flagged for removal.&nbsp; The output is a time range
and gauge that is to be removed from the second intermediate file.</font></li>

<li>
<font color="#000000">make_gauge_filter_file.pl - Taking the output of
eyalqc, generate a crontab-like specification suitable for <b>gauge_filter.pl</b>.</font></li>
</ol>
<font color="#000000">The output of automatic_qc.pl is a crontab-like file.&nbsp;
You must run <a href="gauge_filter.html">gauge_filter.pl</a> on the second
intermedate file in order to remove the gauges.&nbsp; Then, you must run
<a href="r_over_g.pl">r_over_g.pl</a>
to determine R/G.</font>
<p>
<hr WIDTH="100%">
<h3>
<font color="#000099">Options</font></h3>
<tt><font color="#CC0000">--report file</font>&nbsp;&nbsp; -- Output removed
gauges to file 'file'.</tt>
<br><tt><font color="#CC0000">--positive_only</font> -- Don't use negative
gauge values (suspect values).</tt>
<br><tt><font color="#CC0000">--help</font>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-- Print usage.</tt>
<br>
<hr WIDTH="100%">
<br>&nbsp;
<h3>
<font color="#000080">Input</font></h3>
<b><font color="#B22222">second_intermediate_file.ascii</font></b><font color="#000000">,
this may be from stdin.</font>
<br><b><font color="#993300">filter.file</font></b><font color="#000000">a
gauge filter file in crontab format -- Filter out gauges.</font>
<p>
<hr WIDTH="100%">
<h3>
<font color="#000080">Output</font></h3>
<font color="#000000">None.</font>
<br>
<hr WIDTH="100%">
<h3>
<font color="#000080">Return Value</font></h3>
<font color="#000000">None.</font>
<br>
<hr WIDTH="100%">
<h3>
<font color="#000080">See also</font></h3>
<font color="#000000"><a href="automatic_zr.html">automatic_zr.pl</a>,
<a href="gauge_gui.html">gauge_gui_main.pl</a></font>
<br>&nbsp;
<h3>

<hr WIDTH="100%"><font color="#000080">Author</font></h3>
John H. Merritt, SM&amp;A Corp<i>, NASA/GSFC/TRMM Office</i>
</body>
</html>
